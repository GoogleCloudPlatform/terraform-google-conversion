// ----------------------------------------------------------------------------
//
//     ***     AUTO GENERATED CODE    ***    Type: MMv1     ***
//
// ----------------------------------------------------------------------------
//
//     This code is generated by Magic Modules using the following:
//
//     Configuration: https://github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/products/networkconnectivity/PolicyBasedRoute.yaml
//     Template:      https://github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/templates/tgc_next/services/resource.go.tmpl
//
//     DO NOT EDIT this file directly. Any changes made to this file will be
//     overwritten during the next generation cycle.
//
// ----------------------------------------------------------------------------

package networkconnectivity

import (
	"bytes"
	"context"
	"encoding/json"
	"fmt"
	"log"
	"reflect"
	"regexp"
	"sort"
	"strconv"
	"strings"

	"github.com/hashicorp/terraform-plugin-sdk/v2/helper/schema"
	"github.com/hashicorp/terraform-plugin-sdk/v2/helper/structure"
	"github.com/hashicorp/terraform-plugin-sdk/v2/helper/validation"

	"github.com/GoogleCloudPlatform/terraform-google-conversion/v7/pkg/tgcresource"
	"github.com/GoogleCloudPlatform/terraform-google-conversion/v7/pkg/tpgresource"
	transport_tpg "github.com/GoogleCloudPlatform/terraform-google-conversion/v7/pkg/transport"
	"github.com/GoogleCloudPlatform/terraform-google-conversion/v7/pkg/verify"
)

var (
	_ = bytes.Clone
	_ = context.WithCancel
	_ = fmt.Sprintf
	_ = json.Unmarshal
	_ = log.Print
	_ = reflect.ValueOf
	_ = regexp.Match
	_ = sort.IntSlice{}
	_ = strconv.Atoi
	_ = strings.Trim
	_ = schema.Noop
	_ = structure.NormalizeJsonString
	_ = validation.All
	_ = tgcresource.RemoveTerraformAttributionLabel
	_ = tpgresource.GetRegion
	_ = transport_tpg.Config{}
	_ = verify.ProjectRegex
)

const NetworkConnectivityPolicyBasedRouteAssetType string = "networkconnectivity.googleapis.com/PolicyBasedRoute"

const NetworkConnectivityPolicyBasedRouteSchemaName string = "google_network_connectivity_policy_based_route"

func ResourceNetworkConnectivityPolicyBasedRoute() *schema.Resource {
	return &schema.Resource{
		Schema: map[string]*schema.Schema{
			"filter": {
				Type:        schema.TypeList,
				Required:    true,
				ForceNew:    true,
				Description: `The filter to match L4 traffic.`,
				MaxItems:    1,
				Elem: &schema.Resource{
					Schema: map[string]*schema.Schema{
						"protocol_version": {
							Type:         schema.TypeString,
							Required:     true,
							ForceNew:     true,
							ValidateFunc: verify.ValidateEnum([]string{"IPV4", "IPV6"}),
							Description:  `Internet protocol versions this policy-based route applies to. Possible values: ["IPV4", "IPV6"]`,
						},
						"dest_range": {
							Type:        schema.TypeString,
							Optional:    true,
							ForceNew:    true,
							Description: `The destination IP range of outgoing packets that this policy-based route applies to. Default is "0.0.0.0/0".`,
							Default:     "0.0.0.0/0",
						},
						"ip_protocol": {
							Type:        schema.TypeString,
							Optional:    true,
							ForceNew:    true,
							Description: `The IP protocol that this policy-based route applies to. Valid values are 'TCP', 'UDP', and 'ALL'. Default is 'ALL'.`,
							Default:     "ALL",
						},
						"src_range": {
							Type:        schema.TypeString,
							Optional:    true,
							ForceNew:    true,
							Description: `The source IP range of outgoing packets that this policy-based route applies to. Default is "0.0.0.0/0".`,
							Default:     "0.0.0.0/0",
						},
					},
				},
			},
			"name": {
				Type:        schema.TypeString,
				Required:    true,
				ForceNew:    true,
				Description: `The name of the policy based route.`,
			},
			"network": {
				Type:        schema.TypeString,
				Required:    true,
				ForceNew:    true,
				Description: `Fully-qualified URL of the network that this route applies to, for example: projects/my-project/global/networks/my-network.`,
			},
			"description": {
				Type:        schema.TypeString,
				Optional:    true,
				ForceNew:    true,
				Description: `An optional description of this resource.`,
			},
			"interconnect_attachment": {
				Type:        schema.TypeList,
				Optional:    true,
				ForceNew:    true,
				Description: `The interconnect attachments that this policy-based route applies to.`,
				MaxItems:    1,
				Elem: &schema.Resource{
					Schema: map[string]*schema.Schema{
						"region": {
							Type:        schema.TypeString,
							Required:    true,
							ForceNew:    true,
							Description: `Cloud region to install this policy-based route on for Interconnect attachments. Use 'all' to install it on all Interconnect attachments.`,
						},
					},
				},
				ConflictsWith: []string{"virtual_machine"},
			},
			"labels": {
				Type:     schema.TypeMap,
				Optional: true,
				Description: `User-defined labels.


**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field 'effective_labels' for all of the labels present on the resource.`,
				Elem: &schema.Schema{Type: schema.TypeString},
			},
			"next_hop_ilb_ip": {
				Type:         schema.TypeString,
				Optional:     true,
				ForceNew:     true,
				Description:  `The IP address of a global-access-enabled L4 ILB that is the next hop for matching packets.`,
				ExactlyOneOf: []string{"next_hop_ilb_ip", "next_hop_other_routes"},
			},
			"next_hop_other_routes": {
				Type:         schema.TypeString,
				Optional:     true,
				ForceNew:     true,
				ValidateFunc: verify.ValidateEnum([]string{"DEFAULT_ROUTING", ""}),
				Description:  `Other routes that will be referenced to determine the next hop of the packet. Possible values: ["DEFAULT_ROUTING"]`,
				ExactlyOneOf: []string{"next_hop_ilb_ip", "next_hop_other_routes"},
			},
			"priority": {
				Type:        schema.TypeInt,
				Optional:    true,
				ForceNew:    true,
				Description: `The priority of this policy-based route. Priority is used to break ties in cases where there are more than one matching policy-based routes found. In cases where multiple policy-based routes are matched, the one with the lowest-numbered priority value wins. The default value is 1000. The priority value must be from 1 to 65535, inclusive.`,
				Default:     1000,
			},
			"virtual_machine": {
				Type:        schema.TypeList,
				Optional:    true,
				ForceNew:    true,
				Description: `VM instances to which this policy-based route applies to.`,
				MaxItems:    1,
				Elem: &schema.Resource{
					Schema: map[string]*schema.Schema{
						"tags": {
							Type:        schema.TypeList,
							Required:    true,
							ForceNew:    true,
							Description: `A list of VM instance tags that this policy-based route applies to. VM instances that have ANY of tags specified here will install this PBR.`,
							Elem: &schema.Schema{
								Type: schema.TypeString,
							},
						},
					},
				},
				ConflictsWith: []string{"interconnect_attachment"},
			},
			"create_time": {
				Type:        schema.TypeString,
				Computed:    true,
				Description: `Time when the policy-based route was created.`,
			},
			"effective_labels": {
				Type:        schema.TypeMap,
				Computed:    true,
				ForceNew:    true,
				Description: `All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Terraform, other clients and services.`,
				Elem:        &schema.Schema{Type: schema.TypeString},
			},
			"kind": {
				Type:        schema.TypeString,
				Computed:    true,
				Description: `Type of this resource.`,
			},
			"terraform_labels": {
				Type:     schema.TypeMap,
				Computed: true,
				Description: `The combination of labels configured directly on the resource
 and default labels configured on the provider.`,
				Elem: &schema.Schema{Type: schema.TypeString},
			},
			"update_time": {
				Type:        schema.TypeString,
				Computed:    true,
				Description: `Time when the policy-based route was created.`,
			},
			"warnings": {
				Type:        schema.TypeList,
				Computed:    true,
				Description: `If potential misconfigurations are detected for this route, this field will be populated with warning messages.`,
				Elem: &schema.Resource{
					Schema: map[string]*schema.Schema{},
				},
			},
			"project": {
				Type:     schema.TypeString,
				Optional: true,
				Computed: true,
				ForceNew: true,
			},
		},
		UseJSONNumber: true,
	}
}
