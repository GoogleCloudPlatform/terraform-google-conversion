// ----------------------------------------------------------------------------
//
//     ***     AUTO GENERATED CODE    ***    Type: MMv1     ***
//
// ----------------------------------------------------------------------------
//
//     This code is generated by Magic Modules using the following:
//
//     Configuration: https://github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/products/ces/Guardrail.yaml
//     Template:      https://github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/templates/tgc/resource_converter.go.tmpl
//
//     DO NOT EDIT this file directly. Any changes made to this file will be
//     overwritten during the next generation cycle.
//
// ----------------------------------------------------------------------------

package ces

import (
	"bytes"
	"context"
	"encoding/base64"
	"encoding/json"
	"fmt"
	"log"
	"reflect"
	"regexp"
	"slices"
	"sort"
	"strconv"
	"strings"
	"time"

	"github.com/hashicorp/terraform-plugin-sdk/v2/diag"
	"github.com/hashicorp/terraform-plugin-sdk/v2/helper/customdiff"
	"github.com/hashicorp/terraform-plugin-sdk/v2/helper/id"
	"github.com/hashicorp/terraform-plugin-sdk/v2/helper/logging"
	"github.com/hashicorp/terraform-plugin-sdk/v2/helper/retry"
	"github.com/hashicorp/terraform-plugin-sdk/v2/helper/schema"
	"github.com/hashicorp/terraform-plugin-sdk/v2/helper/structure"
	"github.com/hashicorp/terraform-plugin-sdk/v2/helper/validation"
	"github.com/hashicorp/terraform-plugin-sdk/v2/terraform"

	"github.com/GoogleCloudPlatform/terraform-google-conversion/v7/tfplan2cai/converters/google/resources/cai"
	"github.com/hashicorp/terraform-provider-google-beta/google-beta/tpgresource"
	transport_tpg "github.com/hashicorp/terraform-provider-google-beta/google-beta/transport"
	"github.com/hashicorp/terraform-provider-google-beta/google-beta/verify"

	"google.golang.org/api/googleapi"
)

var (
	_ = bytes.Clone
	_ = context.WithCancel
	_ = base64.StdEncoding
	_ = fmt.Sprintf
	_ = json.Marshal
	_ = log.Print
	_ = reflect.ValueOf
	_ = regexp.Match
	_ = slices.Min([]int{1})
	_ = sort.IntSlice{}
	_ = strconv.Atoi
	_ = strings.Trim
	_ = time.Now
	_ = diag.Diagnostic{}
	_ = customdiff.All
	_ = id.UniqueId
	_ = logging.LogLevel
	_ = retry.Retry
	_ = schema.Noop
	_ = structure.ExpandJsonFromString
	_ = validation.All
	_ = terraform.State{}
	_ = tpgresource.SetLabels
	_ = transport_tpg.Config{}
	_ = verify.ProjectRegex
	_ = googleapi.Error{}
)

const CESGuardrailAssetType string = "ces.googleapis.com/Guardrail"

func ResourceConverterCESGuardrail() cai.ResourceConverter {
	return cai.ResourceConverter{
		AssetType: CESGuardrailAssetType,
		Convert:   GetCESGuardrailCaiObject,
	}
}

func GetCESGuardrailCaiObject(d tpgresource.TerraformResourceData, config *transport_tpg.Config) ([]cai.Asset, error) {
	name, err := cai.AssetName(d, config, "//ces.googleapis.com/projects/{{project}}/locations/{{location}}/apps/{{app}}/guardrails/{{name}}")
	if err != nil {
		return []cai.Asset{}, err
	}
	if obj, err := GetCESGuardrailApiObject(d, config); err == nil {
		return []cai.Asset{{
			Name: name,
			Type: CESGuardrailAssetType,
			Resource: &cai.AssetResource{
				Version:              "v1",
				DiscoveryDocumentURI: "https://www.googleapis.com/discovery/v1/apis/ces/v1/rest",
				DiscoveryName:        "Guardrail",
				Data:                 obj,
			},
		}}, nil
	} else {
		return []cai.Asset{}, err
	}
}

func GetCESGuardrailApiObject(d tpgresource.TerraformResourceData, config *transport_tpg.Config) (map[string]interface{}, error) {
	obj := make(map[string]interface{})
	actionProp, err := expandCESGuardrailAction(d.Get("action"), d, config)
	if err != nil {
		return nil, err
	} else if v, ok := d.GetOkExists("action"); !tpgresource.IsEmptyValue(reflect.ValueOf(actionProp)) && (ok || !reflect.DeepEqual(v, actionProp)) {
		obj["action"] = actionProp
	}
	codeCallbackProp, err := expandCESGuardrailCodeCallback(d.Get("code_callback"), d, config)
	if err != nil {
		return nil, err
	} else if v, ok := d.GetOkExists("code_callback"); !tpgresource.IsEmptyValue(reflect.ValueOf(codeCallbackProp)) && (ok || !reflect.DeepEqual(v, codeCallbackProp)) {
		obj["codeCallback"] = codeCallbackProp
	}
	contentFilterProp, err := expandCESGuardrailContentFilter(d.Get("content_filter"), d, config)
	if err != nil {
		return nil, err
	} else if v, ok := d.GetOkExists("content_filter"); !tpgresource.IsEmptyValue(reflect.ValueOf(contentFilterProp)) && (ok || !reflect.DeepEqual(v, contentFilterProp)) {
		obj["contentFilter"] = contentFilterProp
	}
	descriptionProp, err := expandCESGuardrailDescription(d.Get("description"), d, config)
	if err != nil {
		return nil, err
	} else if v, ok := d.GetOkExists("description"); !tpgresource.IsEmptyValue(reflect.ValueOf(descriptionProp)) && (ok || !reflect.DeepEqual(v, descriptionProp)) {
		obj["description"] = descriptionProp
	}
	displayNameProp, err := expandCESGuardrailDisplayName(d.Get("display_name"), d, config)
	if err != nil {
		return nil, err
	} else if v, ok := d.GetOkExists("display_name"); !tpgresource.IsEmptyValue(reflect.ValueOf(displayNameProp)) && (ok || !reflect.DeepEqual(v, displayNameProp)) {
		obj["displayName"] = displayNameProp
	}
	enabledProp, err := expandCESGuardrailEnabled(d.Get("enabled"), d, config)
	if err != nil {
		return nil, err
	} else if v, ok := d.GetOkExists("enabled"); !tpgresource.IsEmptyValue(reflect.ValueOf(enabledProp)) && (ok || !reflect.DeepEqual(v, enabledProp)) {
		obj["enabled"] = enabledProp
	}
	llmPolicyProp, err := expandCESGuardrailLlmPolicy(d.Get("llm_policy"), d, config)
	if err != nil {
		return nil, err
	} else if v, ok := d.GetOkExists("llm_policy"); !tpgresource.IsEmptyValue(reflect.ValueOf(llmPolicyProp)) && (ok || !reflect.DeepEqual(v, llmPolicyProp)) {
		obj["llmPolicy"] = llmPolicyProp
	}
	llmPromptSecurityProp, err := expandCESGuardrailLlmPromptSecurity(d.Get("llm_prompt_security"), d, config)
	if err != nil {
		return nil, err
	} else if v, ok := d.GetOkExists("llm_prompt_security"); !tpgresource.IsEmptyValue(reflect.ValueOf(llmPromptSecurityProp)) && (ok || !reflect.DeepEqual(v, llmPromptSecurityProp)) {
		obj["llmPromptSecurity"] = llmPromptSecurityProp
	}
	modelSafetyProp, err := expandCESGuardrailModelSafety(d.Get("model_safety"), d, config)
	if err != nil {
		return nil, err
	} else if v, ok := d.GetOkExists("model_safety"); !tpgresource.IsEmptyValue(reflect.ValueOf(modelSafetyProp)) && (ok || !reflect.DeepEqual(v, modelSafetyProp)) {
		obj["modelSafety"] = modelSafetyProp
	}

	return obj, nil
}

func expandCESGuardrailAction(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	if len(l) == 0 || l[0] == nil {
		return nil, nil
	}
	raw := l[0]
	original := raw.(map[string]interface{})
	transformed := make(map[string]interface{})

	transformedGenerativeAnswer, err := expandCESGuardrailActionGenerativeAnswer(original["generative_answer"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedGenerativeAnswer); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["generativeAnswer"] = transformedGenerativeAnswer
	}

	transformedRespondImmediately, err := expandCESGuardrailActionRespondImmediately(original["respond_immediately"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedRespondImmediately); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["respondImmediately"] = transformedRespondImmediately
	}

	transformedTransferAgent, err := expandCESGuardrailActionTransferAgent(original["transfer_agent"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedTransferAgent); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["transferAgent"] = transformedTransferAgent
	}

	return transformed, nil
}

func expandCESGuardrailActionGenerativeAnswer(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	if len(l) == 0 || l[0] == nil {
		return nil, nil
	}
	raw := l[0]
	original := raw.(map[string]interface{})
	transformed := make(map[string]interface{})

	transformedPrompt, err := expandCESGuardrailActionGenerativeAnswerPrompt(original["prompt"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedPrompt); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["prompt"] = transformedPrompt
	}

	return transformed, nil
}

func expandCESGuardrailActionGenerativeAnswerPrompt(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailActionRespondImmediately(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	if len(l) == 0 || l[0] == nil {
		return nil, nil
	}
	raw := l[0]
	original := raw.(map[string]interface{})
	transformed := make(map[string]interface{})

	transformedResponses, err := expandCESGuardrailActionRespondImmediatelyResponses(original["responses"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedResponses); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["responses"] = transformedResponses
	}

	return transformed, nil
}

func expandCESGuardrailActionRespondImmediatelyResponses(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	req := make([]interface{}, 0, len(l))
	for _, raw := range l {
		if raw == nil {
			continue
		}
		original := raw.(map[string]interface{})
		transformed := make(map[string]interface{})

		transformedDisabled, err := expandCESGuardrailActionRespondImmediatelyResponsesDisabled(original["disabled"], d, config)
		if err != nil {
			return nil, err
		} else if val := reflect.ValueOf(transformedDisabled); val.IsValid() && !tpgresource.IsEmptyValue(val) {
			transformed["disabled"] = transformedDisabled
		}

		transformedText, err := expandCESGuardrailActionRespondImmediatelyResponsesText(original["text"], d, config)
		if err != nil {
			return nil, err
		} else if val := reflect.ValueOf(transformedText); val.IsValid() && !tpgresource.IsEmptyValue(val) {
			transformed["text"] = transformedText
		}

		req = append(req, transformed)
	}
	return req, nil
}

func expandCESGuardrailActionRespondImmediatelyResponsesDisabled(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailActionRespondImmediatelyResponsesText(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailActionTransferAgent(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	if len(l) == 0 || l[0] == nil {
		return nil, nil
	}
	raw := l[0]
	original := raw.(map[string]interface{})
	transformed := make(map[string]interface{})

	transformedAgent, err := expandCESGuardrailActionTransferAgentAgent(original["agent"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedAgent); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["agent"] = transformedAgent
	}

	return transformed, nil
}

func expandCESGuardrailActionTransferAgentAgent(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailCodeCallback(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	if len(l) == 0 || l[0] == nil {
		return nil, nil
	}
	raw := l[0]
	original := raw.(map[string]interface{})
	transformed := make(map[string]interface{})

	transformedAfterAgentCallback, err := expandCESGuardrailCodeCallbackAfterAgentCallback(original["after_agent_callback"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedAfterAgentCallback); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["afterAgentCallback"] = transformedAfterAgentCallback
	}

	transformedAfterModelCallback, err := expandCESGuardrailCodeCallbackAfterModelCallback(original["after_model_callback"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedAfterModelCallback); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["afterModelCallback"] = transformedAfterModelCallback
	}

	transformedBeforeAgentCallback, err := expandCESGuardrailCodeCallbackBeforeAgentCallback(original["before_agent_callback"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedBeforeAgentCallback); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["beforeAgentCallback"] = transformedBeforeAgentCallback
	}

	transformedBeforeModelCallback, err := expandCESGuardrailCodeCallbackBeforeModelCallback(original["before_model_callback"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedBeforeModelCallback); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["beforeModelCallback"] = transformedBeforeModelCallback
	}

	return transformed, nil
}

func expandCESGuardrailCodeCallbackAfterAgentCallback(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	if len(l) == 0 || l[0] == nil {
		return nil, nil
	}
	raw := l[0]
	original := raw.(map[string]interface{})
	transformed := make(map[string]interface{})

	transformedDescription, err := expandCESGuardrailCodeCallbackAfterAgentCallbackDescription(original["description"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedDescription); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["description"] = transformedDescription
	}

	transformedDisabled, err := expandCESGuardrailCodeCallbackAfterAgentCallbackDisabled(original["disabled"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedDisabled); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["disabled"] = transformedDisabled
	}

	transformedPythonCode, err := expandCESGuardrailCodeCallbackAfterAgentCallbackPythonCode(original["python_code"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedPythonCode); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["pythonCode"] = transformedPythonCode
	}

	return transformed, nil
}

func expandCESGuardrailCodeCallbackAfterAgentCallbackDescription(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailCodeCallbackAfterAgentCallbackDisabled(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailCodeCallbackAfterAgentCallbackPythonCode(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailCodeCallbackAfterModelCallback(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	if len(l) == 0 || l[0] == nil {
		return nil, nil
	}
	raw := l[0]
	original := raw.(map[string]interface{})
	transformed := make(map[string]interface{})

	transformedDescription, err := expandCESGuardrailCodeCallbackAfterModelCallbackDescription(original["description"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedDescription); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["description"] = transformedDescription
	}

	transformedDisabled, err := expandCESGuardrailCodeCallbackAfterModelCallbackDisabled(original["disabled"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedDisabled); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["disabled"] = transformedDisabled
	}

	transformedPythonCode, err := expandCESGuardrailCodeCallbackAfterModelCallbackPythonCode(original["python_code"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedPythonCode); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["pythonCode"] = transformedPythonCode
	}

	return transformed, nil
}

func expandCESGuardrailCodeCallbackAfterModelCallbackDescription(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailCodeCallbackAfterModelCallbackDisabled(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailCodeCallbackAfterModelCallbackPythonCode(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailCodeCallbackBeforeAgentCallback(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	if len(l) == 0 || l[0] == nil {
		return nil, nil
	}
	raw := l[0]
	original := raw.(map[string]interface{})
	transformed := make(map[string]interface{})

	transformedDescription, err := expandCESGuardrailCodeCallbackBeforeAgentCallbackDescription(original["description"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedDescription); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["description"] = transformedDescription
	}

	transformedDisabled, err := expandCESGuardrailCodeCallbackBeforeAgentCallbackDisabled(original["disabled"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedDisabled); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["disabled"] = transformedDisabled
	}

	transformedPythonCode, err := expandCESGuardrailCodeCallbackBeforeAgentCallbackPythonCode(original["python_code"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedPythonCode); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["pythonCode"] = transformedPythonCode
	}

	return transformed, nil
}

func expandCESGuardrailCodeCallbackBeforeAgentCallbackDescription(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailCodeCallbackBeforeAgentCallbackDisabled(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailCodeCallbackBeforeAgentCallbackPythonCode(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailCodeCallbackBeforeModelCallback(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	if len(l) == 0 || l[0] == nil {
		return nil, nil
	}
	raw := l[0]
	original := raw.(map[string]interface{})
	transformed := make(map[string]interface{})

	transformedDescription, err := expandCESGuardrailCodeCallbackBeforeModelCallbackDescription(original["description"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedDescription); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["description"] = transformedDescription
	}

	transformedDisabled, err := expandCESGuardrailCodeCallbackBeforeModelCallbackDisabled(original["disabled"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedDisabled); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["disabled"] = transformedDisabled
	}

	transformedPythonCode, err := expandCESGuardrailCodeCallbackBeforeModelCallbackPythonCode(original["python_code"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedPythonCode); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["pythonCode"] = transformedPythonCode
	}

	return transformed, nil
}

func expandCESGuardrailCodeCallbackBeforeModelCallbackDescription(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailCodeCallbackBeforeModelCallbackDisabled(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailCodeCallbackBeforeModelCallbackPythonCode(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailContentFilter(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	if len(l) == 0 || l[0] == nil {
		return nil, nil
	}
	raw := l[0]
	original := raw.(map[string]interface{})
	transformed := make(map[string]interface{})

	transformedBannedContents, err := expandCESGuardrailContentFilterBannedContents(original["banned_contents"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedBannedContents); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["bannedContents"] = transformedBannedContents
	}

	transformedBannedContentsInAgentResponse, err := expandCESGuardrailContentFilterBannedContentsInAgentResponse(original["banned_contents_in_agent_response"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedBannedContentsInAgentResponse); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["bannedContentsInAgentResponse"] = transformedBannedContentsInAgentResponse
	}

	transformedBannedContentsInUserInput, err := expandCESGuardrailContentFilterBannedContentsInUserInput(original["banned_contents_in_user_input"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedBannedContentsInUserInput); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["bannedContentsInUserInput"] = transformedBannedContentsInUserInput
	}

	transformedDisregardDiacritics, err := expandCESGuardrailContentFilterDisregardDiacritics(original["disregard_diacritics"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedDisregardDiacritics); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["disregardDiacritics"] = transformedDisregardDiacritics
	}

	transformedMatchType, err := expandCESGuardrailContentFilterMatchType(original["match_type"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedMatchType); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["matchType"] = transformedMatchType
	}

	return transformed, nil
}

func expandCESGuardrailContentFilterBannedContents(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailContentFilterBannedContentsInAgentResponse(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailContentFilterBannedContentsInUserInput(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailContentFilterDisregardDiacritics(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailContentFilterMatchType(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailDescription(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailDisplayName(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailEnabled(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailLlmPolicy(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	if len(l) == 0 || l[0] == nil {
		return nil, nil
	}
	raw := l[0]
	original := raw.(map[string]interface{})
	transformed := make(map[string]interface{})

	transformedFailOpen, err := expandCESGuardrailLlmPolicyFailOpen(original["fail_open"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedFailOpen); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["failOpen"] = transformedFailOpen
	}

	transformedMaxConversationMessages, err := expandCESGuardrailLlmPolicyMaxConversationMessages(original["max_conversation_messages"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedMaxConversationMessages); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["maxConversationMessages"] = transformedMaxConversationMessages
	}

	transformedModelSettings, err := expandCESGuardrailLlmPolicyModelSettings(original["model_settings"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedModelSettings); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["modelSettings"] = transformedModelSettings
	}

	transformedPolicyScope, err := expandCESGuardrailLlmPolicyPolicyScope(original["policy_scope"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedPolicyScope); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["policyScope"] = transformedPolicyScope
	}

	transformedPrompt, err := expandCESGuardrailLlmPolicyPrompt(original["prompt"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedPrompt); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["prompt"] = transformedPrompt
	}

	transformedAllowShortUtterance, err := expandCESGuardrailLlmPolicyAllowShortUtterance(original["allow_short_utterance"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedAllowShortUtterance); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["allowShortUtterance"] = transformedAllowShortUtterance
	}

	return transformed, nil
}

func expandCESGuardrailLlmPolicyFailOpen(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailLlmPolicyMaxConversationMessages(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailLlmPolicyModelSettings(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	if len(l) == 0 || l[0] == nil {
		return nil, nil
	}
	raw := l[0]
	original := raw.(map[string]interface{})
	transformed := make(map[string]interface{})

	transformedModel, err := expandCESGuardrailLlmPolicyModelSettingsModel(original["model"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedModel); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["model"] = transformedModel
	}

	transformedTemperature, err := expandCESGuardrailLlmPolicyModelSettingsTemperature(original["temperature"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedTemperature); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["temperature"] = transformedTemperature
	}

	return transformed, nil
}

func expandCESGuardrailLlmPolicyModelSettingsModel(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailLlmPolicyModelSettingsTemperature(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailLlmPolicyPolicyScope(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailLlmPolicyPrompt(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailLlmPolicyAllowShortUtterance(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailLlmPromptSecurity(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	if len(l) == 0 || l[0] == nil {
		return nil, nil
	}
	raw := l[0]
	original := raw.(map[string]interface{})
	transformed := make(map[string]interface{})

	transformedCustomPolicy, err := expandCESGuardrailLlmPromptSecurityCustomPolicy(original["custom_policy"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedCustomPolicy); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["customPolicy"] = transformedCustomPolicy
	}

	transformedDefaultSettings, err := expandCESGuardrailLlmPromptSecurityDefaultSettings(original["default_settings"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedDefaultSettings); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["defaultSettings"] = transformedDefaultSettings
	}

	return transformed, nil
}

func expandCESGuardrailLlmPromptSecurityCustomPolicy(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	if len(l) == 0 || l[0] == nil {
		return nil, nil
	}
	raw := l[0]
	original := raw.(map[string]interface{})
	transformed := make(map[string]interface{})

	transformedFailOpen, err := expandCESGuardrailLlmPromptSecurityCustomPolicyFailOpen(original["fail_open"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedFailOpen); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["failOpen"] = transformedFailOpen
	}

	transformedMaxConversationMessages, err := expandCESGuardrailLlmPromptSecurityCustomPolicyMaxConversationMessages(original["max_conversation_messages"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedMaxConversationMessages); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["maxConversationMessages"] = transformedMaxConversationMessages
	}

	transformedModelSettings, err := expandCESGuardrailLlmPromptSecurityCustomPolicyModelSettings(original["model_settings"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedModelSettings); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["modelSettings"] = transformedModelSettings
	}

	transformedPolicyScope, err := expandCESGuardrailLlmPromptSecurityCustomPolicyPolicyScope(original["policy_scope"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedPolicyScope); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["policyScope"] = transformedPolicyScope
	}

	transformedPrompt, err := expandCESGuardrailLlmPromptSecurityCustomPolicyPrompt(original["prompt"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedPrompt); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["prompt"] = transformedPrompt
	}

	transformedAllowShortUtterance, err := expandCESGuardrailLlmPromptSecurityCustomPolicyAllowShortUtterance(original["allow_short_utterance"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedAllowShortUtterance); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["allowShortUtterance"] = transformedAllowShortUtterance
	}

	return transformed, nil
}

func expandCESGuardrailLlmPromptSecurityCustomPolicyFailOpen(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailLlmPromptSecurityCustomPolicyMaxConversationMessages(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailLlmPromptSecurityCustomPolicyModelSettings(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	if len(l) == 0 || l[0] == nil {
		return nil, nil
	}
	raw := l[0]
	original := raw.(map[string]interface{})
	transformed := make(map[string]interface{})

	transformedModel, err := expandCESGuardrailLlmPromptSecurityCustomPolicyModelSettingsModel(original["model"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedModel); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["model"] = transformedModel
	}

	transformedTemperature, err := expandCESGuardrailLlmPromptSecurityCustomPolicyModelSettingsTemperature(original["temperature"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedTemperature); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["temperature"] = transformedTemperature
	}

	return transformed, nil
}

func expandCESGuardrailLlmPromptSecurityCustomPolicyModelSettingsModel(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailLlmPromptSecurityCustomPolicyModelSettingsTemperature(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailLlmPromptSecurityCustomPolicyPolicyScope(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailLlmPromptSecurityCustomPolicyPrompt(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailLlmPromptSecurityCustomPolicyAllowShortUtterance(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailLlmPromptSecurityDefaultSettings(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	if len(l) == 0 || l[0] == nil {
		return nil, nil
	}
	raw := l[0]
	original := raw.(map[string]interface{})
	transformed := make(map[string]interface{})

	transformedDefaultPromptTemplate, err := expandCESGuardrailLlmPromptSecurityDefaultSettingsDefaultPromptTemplate(original["default_prompt_template"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedDefaultPromptTemplate); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["defaultPromptTemplate"] = transformedDefaultPromptTemplate
	}

	return transformed, nil
}

func expandCESGuardrailLlmPromptSecurityDefaultSettingsDefaultPromptTemplate(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailModelSafety(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	if len(l) == 0 || l[0] == nil {
		return nil, nil
	}
	raw := l[0]
	original := raw.(map[string]interface{})
	transformed := make(map[string]interface{})

	transformedSafetySettings, err := expandCESGuardrailModelSafetySafetySettings(original["safety_settings"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedSafetySettings); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["safetySettings"] = transformedSafetySettings
	}

	return transformed, nil
}

func expandCESGuardrailModelSafetySafetySettings(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	req := make([]interface{}, 0, len(l))
	for _, raw := range l {
		if raw == nil {
			continue
		}
		original := raw.(map[string]interface{})
		transformed := make(map[string]interface{})

		transformedCategory, err := expandCESGuardrailModelSafetySafetySettingsCategory(original["category"], d, config)
		if err != nil {
			return nil, err
		} else if val := reflect.ValueOf(transformedCategory); val.IsValid() && !tpgresource.IsEmptyValue(val) {
			transformed["category"] = transformedCategory
		}

		transformedThreshold, err := expandCESGuardrailModelSafetySafetySettingsThreshold(original["threshold"], d, config)
		if err != nil {
			return nil, err
		} else if val := reflect.ValueOf(transformedThreshold); val.IsValid() && !tpgresource.IsEmptyValue(val) {
			transformed["threshold"] = transformedThreshold
		}

		req = append(req, transformed)
	}
	return req, nil
}

func expandCESGuardrailModelSafetySafetySettingsCategory(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESGuardrailModelSafetySafetySettingsThreshold(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}
